{
  "name": "ts-lambda-to-lambda-with-iam",
  "scripts": {
    "init": "cd src && npm install && cd .. && cd cdk1 && npm install && cd .. && cd cdk2 && npm install && cd ..",
    "build": "rm -rf dist && mkdir dist && cd src && tsc && cd .. && cp src/package.json dist/package.json && cp src/package-lock.json dist/package-lock.json && cd dist && npm install --only=prod && cd ..",
    "deploy1": "cd cdk1 && cdk deploy --outputs-file stack-data.json && cd ..",
    "deploy2": "cd cdk2 && cdk deploy --outputs-file stack-data.json && cd ..",
    "deploy": "npm run deploy1 && npm run deploy2",
    "firstdeploy": "npm run deploy1 && npm run deploy2 && npm run deploy1",
    "demo": "cd client && python3 demo.py -stack 1 && python3 demo.py -stack 2 && cd ..",
    "destroy": "cd cdk2 && cdk destroy && cd .. && cd cdk1 && cdk destroy && cd ..",
    "clean": "git clean -xdf",
    "all": "npm run init && npm run build && npm run firstdeploy && npm run demo"
  }
}
